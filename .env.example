# Environment Configuration
# Copy this file to .env.local for local development

# =============================================================================
# Test Data Configuration
# =============================================================================

# Whether to use test/demo data with mock authentication
# Set to "true" for development/demo mode with localStorage
# Set to "false" for production with real Supabase backend
NEXT_PUBLIC_USE_TEST_DATA=true

# =============================================================================
# Supabase Configuration (Required for Production)
# =============================================================================

# Supabase Project URL
# Get this from: Supabase Dashboard > Project Settings > API > Project URL
# Example: https://xyzcompany.supabase.co
NEXT_PUBLIC_SUPABASE_URL=

# Supabase Anonymous Key (public/anon key)
# Get this from: Supabase Dashboard > Project Settings > API > anon/public key
# This key is safe to use in the browser (RLS policies protect your data)
NEXT_PUBLIC_SUPABASE_ANON_KEY=

# =============================================================================
# How the App Chooses Storage Backend
# =============================================================================
#
# The app automatically selects the database adapter based on these variables:
#
# 1. If NEXT_PUBLIC_USE_TEST_DATA=true:
#    ‚Üí Uses localStorage with mock authentication (test user: user-1)
#    ‚Üí Perfect for local development and testing
#
# 2. If NEXT_PUBLIC_USE_TEST_DATA=false AND Supabase vars are set:
#    ‚Üí Uses Supabase with real OAuth authentication
#    ‚Üí Production mode with persistent database
#
# 3. If NEXT_PUBLIC_USE_TEST_DATA=false BUT Supabase vars are missing:
#    ‚Üí Falls back to localStorage (warning logged to console)
#    ‚Üí Data is not persistent across devices
#
# =============================================================================
# Local Development Setup
# =============================================================================
#
# 1. Copy this file to .env.local:
#    cp .env.example .env.local
#
# 2. For development with test data (recommended):
#    NEXT_PUBLIC_USE_TEST_DATA=true
#    # Leave Supabase variables empty
#
# 3. For development with real Supabase:
#    NEXT_PUBLIC_USE_TEST_DATA=false
#    NEXT_PUBLIC_SUPABASE_URL=your_project_url
#    NEXT_PUBLIC_SUPABASE_ANON_KEY=your_anon_key
#
# =============================================================================
# Production Deployment (Netlify)
# =============================================================================
#
# 1. Create a Supabase project at https://supabase.com
#
# 2. Run the database migration:
#    - Go to Supabase Dashboard > SQL Editor
#    - Copy content from supabase/migrations/20250102_initial_schema.sql
#    - Paste and run the SQL
#
# 3. Enable OAuth providers:
#    - Go to Supabase Dashboard > Authentication > Providers
#    - Enable GitHub and/or Google OAuth
#    - Configure redirect URLs (see DEPLOYMENT.md for details)
#
# 4. Set environment variables in Netlify:
#    - Go to Netlify Site Settings > Environment Variables
#    - Add: NEXT_PUBLIC_USE_TEST_DATA=false
#    - Add: NEXT_PUBLIC_SUPABASE_URL=your_project_url
#    - Add: NEXT_PUBLIC_SUPABASE_ANON_KEY=your_anon_key
#
# 5. Deploy!
#
# =============================================================================
# Security Notes
# =============================================================================
#
# ‚úÖ SAFE to expose:
#    - NEXT_PUBLIC_SUPABASE_URL (project URL)
#    - NEXT_PUBLIC_SUPABASE_ANON_KEY (anon key)
#    - These are prefixed with NEXT_PUBLIC_ and sent to browser
#    - Row Level Security (RLS) policies protect your data
#
# ‚ùå NEVER expose:
#    - SUPABASE_SERVICE_ROLE_KEY (bypass all RLS policies)
#    - Database connection strings
#    - Any non-NEXT_PUBLIC_ secrets
#
# üìù Best Practices:
#    - Never commit .env.local to git (already in .gitignore)
#    - Rotate keys if accidentally exposed
#    - Use different Supabase projects for dev/staging/prod
#    - Review RLS policies regularly
#
# =============================================================================
